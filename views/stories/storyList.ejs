<% layout('/layouts/boilerplate.ejs')%>


  <div id="container">
    <% if(success && success.length){ %>
      <div class="flex items-center justify-center">
        <div id="toast-success"
          class="flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 "
          role="alert">
          <div class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8  bg-green-100 rounded-lg ">
            <i class="ri-check-line"></i>

            <span class="sr-only">Check icon</span>
          </div>
          <div class="ml-3 text-sm font-normal">
            <%=success %>
          </div>
          <!-- <button id="flash-cls" type="button"
            class="ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white  dark:hover:bg-gray-700">
            <span class="sr-only">Close</span>
            <i class="ri-close-fill"></i>

          </button> -->
        </div>
      </div>
      <% } %>
        <div id="page1">



          <div id="card-center">



            <section>
              <button style="display: none;" id="confettiButton">Celebrate!</button>

              <!-- Container -->
              <div class="mx-auto w-full max-w-7xl px-5 py-16 md:px-10 md:py-20">
                <!-- Component -->
                <div class="flex flex-col items-center">
                  <!-- Title -->
                  <h2 class="text-center text-3xl font-bold md:text-5xl"> "Write. Share. Relate." </h2>
                  <p class="mb-8 mt-4 text-center text-sm text-gray-500 sm:text-base md:mb-12 lg:mb-16"> "Discover
                    genuine stories from people navigating overthinking. Share your own journey and find comfort in
                    knowing youâ€™re not alone."</p>
                  <!-- Content -->
                  <div
                    class="mb-12 grid gap-4 sm:grid-cols-2  sm:justify-items-stretch md:mb-16 md:grid-cols-2 lg:grid-cols-3 lg:mb-20 lg:gap-6">


                    <!-- stories -->
                    <%for(stories of storyData){%>


                      <a href="/stories/<%=stories._id %>"
                        style="border-radius: 1vw; `   box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;"
                        class="flex flex-col gap-4 shadow-lg  0px 5px 15px  rounded-md bg-white-100 px-4 py-8 md:p-4">
                        <div class="relative">
                          <img style="border-radius: 1vw;" src="<%=stories.image.url%>" alt=""
                            class="inline-block h-60 w-full rounded-md object-cover" />
                          <div
                            class="absolute -bottom-7 right-4 flex h-11 w-11 items-center justify-center rounded-full border-4 order-solid bborder-black bg-black">
                            <span style="color: rgb(255, 255, 255);">
                              <%=stories.views.length %>
                            </span>
                          </div>
                        </div>
                        <div class="flex w-full flex-col gap-5">
                          <div class="rounded-md bg-gray-100 px-2 py-1.5">
                            <p class="text-sm font-semibold text-blue-600">
                              <%=stories.title %>
                            </p>
                          </div>
                          <!-- <p id="story-container" class="font-bold" data-story="<%=stories.story.replace(/[^\w\s]/g, '' ).toLowerCase().split(' ').slice(0, 20).join(' ')%>" >
                                <%=stories.story.replace(/[^\w\s]/g, '' ).toLowerCase().split(' ').slice(0, 20).join(' ')%>...</p> -->
                          <!-- Divider -->
                          <div class="h-px w-full bg-black"></div>
                          <div class="flex items-center">

                            <img src="<%=stories.owner.image.url %>" alt=""
                              class="mr-4 inline-block h-8 w-8 rounded-full object-cover" />

                            <div class="flex flex-col md:flex-row md:items-center">
                              <h6 class="text-base font-bold">
                                <%=stories.owner.username %>
                              </h6>
                              <p class="mx-2 hidden text-sm text-gray-500 lg:block"> - </p>
                              <p class="text-sm font-medium text-gray-500">
                                <%=stories.timeStamp.toLocaleDateString('en-IN')%> %>
                              </p>
                            </div>
                          </div>
                        </div>
                      </a>
                      <%}%>

                  </div>

                </div>
              </div>

            </section>







          </div>